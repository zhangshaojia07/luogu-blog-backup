# CF1656D K-good

### Preface

稍微长但是思路很顺的解法。（有证明）

### Analysis

容易发现，$n$ 是「$k$ 好的」的充要条件为

$$n=\frac{k(k+1)}{2}+kt\quad(t\in\mathbb{N})$$

发现这个分母 $2$ 比较难搞，我们将 $k$ 按奇偶分类。

------------

#### 偶数（$k=2q$）

$$n=q(2q+1)+2qt=q(2q+2t+1)$$

设 $o=2q+2t+1$，则要满足 $o\ge 2q+1=\frac{2n}{o}+1$。

所以只要找到的 $n$ 的奇因数（$\ne1$）$o$ 使得上文不等式成立，即有答案 $k=\frac{2n}{o}$。

#### 奇数（$k=2q+1$）

$$n=(2q+1)(q+1)+(2q+1)t=(2q+1)(q+t+1)$$

设 $o=2q+1$，则要满足 $o\le 2(q+t+1)-1=\frac{2n}{o}-1$。

所以只要找到的 $n$ 的奇因数（$\ne1$）$o$ 使得上文不等式成立，即有答案 $k=o$。

------------

我们发现 $\frac{2n}{o}$ 为偶数，不可能等于 $o$，所以只要 $n$ 有非 $1$ 奇因数，就一定能通过上面的分类找到答案。

否则（即 $n=2^l(l\in\mathbb{N^+})$ 时），不存在 $k$（答案为 $-1$）。**无解性的证明：**

不论是在奇数还是偶数的分类中，$o$ 必然是 $1$，此时得到 $q\le0$ 或 $q=0$，得到 $k\le 2q+1\le 1<2$，矛盾。$\blacksquare$

### Code

[Link](https://codeforces.com/contest/1656/submission/150891512)